import { PrismaClient } from "@prisma/client"; const prisma = new PrismaClient(); async function main() { try { console.log("Deleting channel memberships..."); await prisma.channelMember.deleteMany({ where: { userId: "goat" }}); console.log("Deleting user connections..."); await prisma.connection.deleteMany({ where: { userId: "goat" }}); console.log("Deleting user reactions..."); await prisma.reaction.deleteMany({ where: { userId: "goat" }}); console.log("Deleting user messages..."); await prisma.message.deleteMany({ where: { userId: "goat" }}); console.log("Deleting user..."); await prisma.user.delete({ where: { id: "goat" }}); console.log("User and related data deleted successfully"); } catch (e) { console.error("Error:", e); } finally { await prisma.$disconnect(); } } main();
